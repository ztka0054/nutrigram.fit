{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/router\";\nimport { isEmpty } from \"lodash\";\nimport TagLang from \"../../../../modules/GetTagLang\";\nimport FormDetail from \"./SectionDetail\";\nimport SectionHistoryClinic from \"./SectionHistoryClinic\";\nimport SectionGinecology from \"./SectionGinecology\";\nimport SectionDietetic from \"./SectionDietetic\";\nimport SectionQuestionnaire from \"./SectionQuestionnaire\";\nimport SectionLifestyle from \"./SectionLifestyle\";\nimport SectionPhysical from \"./SectionPhysicalActivity\";\nexport default function PatienDetail() {\n  const router = useRouter();\n  const {\n    0: idPatient,\n    1: setIdPatient\n  } = useState(null);\n  const {\n    0: infoUser,\n    1: setInfoUser\n  } = useState(null);\n  const {\n    0: flagGinecology,\n    1: setFlagGinecology\n  } = useState(false);\n  const {\n    0: formUser,\n    1: setFormUser\n  } = useState(null);\n  const {\n    0: formClinic,\n    1: setFormClinic\n  } = useState(null);\n  const {\n    0: formGinecology,\n    1: setFormGinecology\n  } = useState(null);\n  const {\n    0: formDiet,\n    1: setFormDiet\n  } = useState(null);\n  const {\n    0: formQuestions,\n    1: setFormQuestions\n  } = useState(null);\n  const {\n    0: formLifestyle,\n    1: setFormLifestyle\n  } = useState(null);\n  const {\n    0: formPhysical,\n    1: setFormPhysical\n  } = useState(null);\n  const {\n    0: flagSendClinic,\n    1: setFlagSendClinic\n  } = useState(false);\n  const {\n    0: flagSendGinecology,\n    1: setFlagSendGinecology\n  } = useState(false);\n  const {\n    0: flagSendDiet,\n    1: setFlagSendDiet\n  } = useState(false);\n  const {\n    0: flagSendQuestions,\n    1: setFlagSendQuestions\n  } = useState(false);\n  const {\n    0: flagSendLifestyle,\n    1: setFlagSendLifestyle\n  } = useState(false);\n  const {\n    0: flagSendPhysical,\n    1: setFlagSendPhysical\n  } = useState(false);\n  useEffect(() => {\n    var _router$query;\n\n    if ((_router$query = router.query) !== null && _router$query !== void 0 && _router$query.id) setIdPatient(router.query.id);\n  }, [router.query]);\n  useEffect(() => {\n    if (infoUser != null) SendOtherForms(infoUser);\n  }, [infoUser]);\n  useEffect(() => {\n    if (flagSendClinic && flagSendGinecology && flagSendDiet && flagSendQuestions && flagSendLifestyle && flagSendPhysical) router.push(`/dashboard/patients/detail/${infoUser.id}`);\n  }, [flagSendClinic, flagSendGinecology, flagSendDiet, flagSendQuestions, flagSendLifestyle, flagSendPhysical]);\n\n  const SendFormUser = async () => {\n    let valPhysycal = await formPhysical.validateForm();\n    let flagPhysycal = isEmpty(valPhysycal);\n    if (flagPhysycal) formUser.handleSubmit();else formUser.validateForm();\n  };\n\n  const SendOtherForms = async infoUser => {\n    formClinic.setFieldValue(\"idUser\", infoUser.id);\n    formDiet.setFieldValue(\"idUser\", infoUser.id);\n    formPhysical.setFieldValue(\"idUser\", infoUser.id);\n    formClinic.handleSubmit();\n\n    if (flagGinecology) {\n      formGinecology.setFieldValue(\"idUser\", infoUser.id);\n      formGinecology.handleSubmit();\n    } else {\n      setFlagSendGinecology(true);\n    }\n\n    formDiet.handleSubmit();\n\n    if (formQuestions) {\n      formQuestions.setFieldValue(\"idUser\", infoUser.id);\n      formQuestions.handleSubmit();\n    }\n\n    if (formLifestyle) {\n      formLifestyle.setFieldValue(\"idUser\", infoUser.id);\n      formLifestyle.handleSubmit();\n    }\n\n    formPhysical.handleSubmit();\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"sty-content-data-1\",\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: \"sty-card-title\",\n      children: /*#__PURE__*/_jsx(TagLang, {\n        group: \"dashboard\",\n        tag: \"tit_pacient_1_2\"\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"col-12 sty-cont-form-1\",\n      children: /*#__PURE__*/_jsx(FormDetail, {\n        idPatient: idPatient,\n        setFormUser: setFormUser,\n        setInfoUser: setInfoUser,\n        setFlagGinecology: setFlagGinecology\n      })\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"col-12\",\n      children: [/*#__PURE__*/_jsx(SectionHistoryClinic, {\n        idPatient: idPatient,\n        setFormClinic: setFormClinic,\n        setFlagSendClinic: setFlagSendClinic\n      }), flagGinecology && /*#__PURE__*/_jsx(SectionGinecology, {\n        idPatient: idPatient,\n        setFormGinecology: setFormGinecology,\n        setFlagSendGinecology: setFlagSendGinecology\n      }), /*#__PURE__*/_jsx(SectionDietetic, {\n        idPatient: idPatient,\n        setFormDiet: setFormDiet,\n        setFlagSendDiet: setFlagSendDiet\n      }), /*#__PURE__*/_jsx(SectionLifestyle, {\n        idPatient: idPatient,\n        setFormLifestyle: setFormLifestyle,\n        setFlagSendLifestyle: setFlagSendLifestyle\n      }), /*#__PURE__*/_jsx(SectionPhysical, {\n        idPatient: idPatient,\n        setFormPhysical: setFormPhysical,\n        setFlagSendPhysical: setFlagSendPhysical\n      }), /*#__PURE__*/_jsx(SectionQuestionnaire, {\n        idPatient: idPatient,\n        setFormQuestions: setFormQuestions,\n        setFlagSendQuestions: setFlagSendQuestions\n      })]\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"col-12\",\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"text-center sty-magin-b-1\",\n        children: /*#__PURE__*/_jsxs(\"button\", {\n          className: \"sty-button-dash-1\",\n          type: \"button\",\n          onClick: () => SendFormUser(),\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"sty-icon\",\n            children: /*#__PURE__*/_jsx(\"img\", {\n              src: \"/static/img/favicons/app/save_w.svg\"\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"sty-tag\",\n            children: /*#__PURE__*/_jsx(TagLang, {\n              group: \"button\",\n              tag: \"save\"\n            })\n          })]\n        })\n      })\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}