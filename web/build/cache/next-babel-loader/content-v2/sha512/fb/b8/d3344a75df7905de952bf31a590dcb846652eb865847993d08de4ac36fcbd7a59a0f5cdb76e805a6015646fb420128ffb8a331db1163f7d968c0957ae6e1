{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/router\";\nimport { isEmpty } from \"lodash\";\nimport TagLang from \"../../../../modules/GetTagLang\";\nimport FormDetail from \"./SectionDetail\";\nimport SectionHistoryClinic from \"./SectionHistoryClinic\";\nimport SectionGinecology from \"./SectionGinecology\";\nimport SectionDietetic from \"./SectionDietetic\";\nimport SectionQuestionnaire from \"./SectionQuestionnaire\";\nimport SectionLifestyle from \"./SectionLifestyle\";\nimport SectionPhysical from \"./SectionPhysicalActivity\";\nexport default function PatienDetail() {\n  var router = useRouter();\n\n  var _useState = useState(null),\n      idPatient = _useState[0],\n      setIdPatient = _useState[1];\n\n  var _useState2 = useState(null),\n      infoUser = _useState2[0],\n      setInfoUser = _useState2[1];\n\n  var _useState3 = useState(false),\n      flagGinecology = _useState3[0],\n      setFlagGinecology = _useState3[1];\n\n  var _useState4 = useState(null),\n      formUser = _useState4[0],\n      setFormUser = _useState4[1];\n\n  var _useState5 = useState(null),\n      formClinic = _useState5[0],\n      setFormClinic = _useState5[1];\n\n  var _useState6 = useState(null),\n      formGinecology = _useState6[0],\n      setFormGinecology = _useState6[1];\n\n  var _useState7 = useState(null),\n      formDiet = _useState7[0],\n      setFormDiet = _useState7[1];\n\n  var _useState8 = useState(null),\n      formQuestions = _useState8[0],\n      setFormQuestions = _useState8[1];\n\n  var _useState9 = useState(null),\n      formLifestyle = _useState9[0],\n      setFormLifestyle = _useState9[1];\n\n  var _useState10 = useState(null),\n      formPhysical = _useState10[0],\n      setFormPhysical = _useState10[1];\n\n  var _useState11 = useState(false),\n      flagSendClinic = _useState11[0],\n      setFlagSendClinic = _useState11[1];\n\n  var _useState12 = useState(false),\n      flagSendGinecology = _useState12[0],\n      setFlagSendGinecology = _useState12[1];\n\n  var _useState13 = useState(false),\n      flagSendDiet = _useState13[0],\n      setFlagSendDiet = _useState13[1];\n\n  var _useState14 = useState(false),\n      flagSendQuestions = _useState14[0],\n      setFlagSendQuestions = _useState14[1];\n\n  var _useState15 = useState(false),\n      flagSendLifestyle = _useState15[0],\n      setFlagSendLifestyle = _useState15[1];\n\n  var _useState16 = useState(false),\n      flagSendPhysical = _useState16[0],\n      setFlagSendPhysical = _useState16[1];\n\n  useEffect(function () {\n    var _router$query;\n\n    if ((_router$query = router.query) !== null && _router$query !== void 0 && _router$query.id) setIdPatient(router.query.id);\n  }, [router.query]);\n  useEffect(function () {\n    if (infoUser != null) SendOtherForms(infoUser);\n  }, [infoUser]);\n  useEffect(function () {\n    if (flagSendClinic && flagSendGinecology && flagSendDiet && flagSendQuestions && flagSendLifestyle && flagSendPhysical) router.push(\"/dashboard/patients/detail/\".concat(infoUser.id));\n  }, [flagSendClinic, flagSendGinecology, flagSendDiet, flagSendQuestions, flagSendLifestyle, flagSendPhysical]);\n\n  var SendFormUser = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var valPhysycal, flagPhysycal;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return formPhysical.validateForm();\n\n            case 2:\n              valPhysycal = _context.sent;\n              flagPhysycal = isEmpty(valPhysycal);\n              if (flagPhysycal) formUser.handleSubmit();else formUser.validateForm();\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function SendFormUser() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var SendOtherForms = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(infoUser) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              formClinic.setFieldValue(\"idUser\", infoUser.id);\n              formDiet.setFieldValue(\"idUser\", infoUser.id);\n              formPhysical.setFieldValue(\"idUser\", infoUser.id);\n              formClinic.handleSubmit();\n\n              if (flagGinecology) {\n                formGinecology.setFieldValue(\"idUser\", infoUser.id);\n                formGinecology.handleSubmit();\n              } else {\n                setFlagSendGinecology(true);\n              }\n\n              formDiet.handleSubmit();\n\n              if (formQuestions) {\n                formQuestions.setFieldValue(\"idUser\", infoUser.id);\n                formQuestions.handleSubmit();\n              }\n\n              if (formLifestyle) {\n                formLifestyle.setFieldValue(\"idUser\", infoUser.id);\n                formLifestyle.handleSubmit();\n              }\n\n              formPhysical.handleSubmit();\n\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function SendOtherForms(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"sty-content-data-1\",\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: \"sty-card-title\",\n      children: /*#__PURE__*/_jsx(TagLang, {\n        group: \"dashboard\",\n        tag: \"tit_pacient_1_2\"\n      })\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"col-12 sty-cont-form-1\",\n      children: /*#__PURE__*/_jsx(FormDetail, {\n        idPatient: idPatient,\n        setFormUser: setFormUser,\n        setInfoUser: setInfoUser,\n        setFlagGinecology: setFlagGinecology\n      })\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"col-12\",\n      children: [/*#__PURE__*/_jsx(SectionHistoryClinic, {\n        idPatient: idPatient,\n        setFormClinic: setFormClinic,\n        setFlagSendClinic: setFlagSendClinic\n      }), flagGinecology && /*#__PURE__*/_jsx(SectionGinecology, {\n        idPatient: idPatient,\n        setFormGinecology: setFormGinecology,\n        setFlagSendGinecology: setFlagSendGinecology\n      }), /*#__PURE__*/_jsx(SectionDietetic, {\n        idPatient: idPatient,\n        setFormDiet: setFormDiet,\n        setFlagSendDiet: setFlagSendDiet\n      }), /*#__PURE__*/_jsx(SectionLifestyle, {\n        idPatient: idPatient,\n        setFormLifestyle: setFormLifestyle,\n        setFlagSendLifestyle: setFlagSendLifestyle\n      }), /*#__PURE__*/_jsx(SectionPhysical, {\n        idPatient: idPatient,\n        setFormPhysical: setFormPhysical,\n        setFlagSendPhysical: setFlagSendPhysical\n      }), /*#__PURE__*/_jsx(SectionQuestionnaire, {\n        idPatient: idPatient,\n        setFormQuestions: setFormQuestions,\n        setFlagSendQuestions: setFlagSendQuestions\n      })]\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"col-12\",\n      children: /*#__PURE__*/_jsx(\"div\", {\n        className: \"text-center sty-magin-b-1\",\n        children: /*#__PURE__*/_jsxs(\"button\", {\n          className: \"sty-button-dash-1\",\n          type: \"button\",\n          onClick: function onClick() {\n            return SendFormUser();\n          },\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"sty-icon\",\n            children: /*#__PURE__*/_jsx(\"img\", {\n              src: \"/static/img/favicons/app/save_w.svg\"\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"sty-tag\",\n            children: /*#__PURE__*/_jsx(TagLang, {\n              group: \"button\",\n              tag: \"save\"\n            })\n          })]\n        })\n      })\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}