{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/router\";\nimport useApp from \"../../../../../hooks/useApp\";\nimport TagLang from \"../../../../modules/GetTagLang\";\nimport request from \"../../../../../helper/core_services/core/requestService\";\nimport subscription from \"../../../../../helper/core_services/endpoints/subscription\";\nexport default function CancelPlan() {\n  var _flagPlan$subscriptio;\n\n  var router = useRouter();\n\n  var _useApp = useApp(),\n      locale = _useApp.locale;\n\n  var _useState = useState(null),\n      flagPlan = _useState[0],\n      setFlagPlan = _useState[1];\n\n  useEffect(function () {\n    GetSubscription();\n  }, [locale]);\n\n  var GetSubscription = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var req, _req$price, _req$price$price;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return request(subscription.get_subscription, null, null, {\n                locale: locale\n              });\n\n            case 2:\n              req = _context.sent;\n\n              if (req != null) {\n                if (parseInt(req === null || req === void 0 ? void 0 : (_req$price = req.price) === null || _req$price === void 0 ? void 0 : (_req$price$price = _req$price.price) === null || _req$price$price === void 0 ? void 0 : _req$price$price.amount) != 0) setFlagPlan(req === null || req === void 0 ? void 0 : req.price);\n              }\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function GetSubscription() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var CancelPlan = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var req;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return request(subscription.delete_subscription, null, null, {\n                locale: locale\n              });\n\n            case 2:\n              req = _context2.sent;\n\n              if (req != null) {\n                router.push(\"/dashboard/profile\");\n              }\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function CancelPlan() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsx(_Fragment, {\n    children: flagPlan != null && /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsx(\"hr\", {}), /*#__PURE__*/_jsx(\"div\", {\n        className: \"sty-cont-cancel\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"col-6 align-self-center\",\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \"sty-tag-text\",\n              children: /*#__PURE__*/_jsx(TagLang, {\n                group: \"dashboard\",\n                tag: \"tit_select_plan_2\"\n              })\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"sty-tag-name\",\n              children: [flagPlan === null || flagPlan === void 0 ? void 0 : (_flagPlan$subscriptio = flagPlan.subscription) === null || _flagPlan$subscriptio === void 0 ? void 0 : _flagPlan$subscriptio.name, \" ----- \", flagPlan === null || flagPlan === void 0 ? void 0 : flagPlan.name]\n            })]\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"text-right col-6\",\n            children: /*#__PURE__*/_jsxs(\"button\", {\n              className: \"sty-button-dash-1 fix-2 color-2\",\n              onClick: function onClick() {\n                return CancelPlan();\n              },\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"sty-icon\",\n                children: /*#__PURE__*/_jsx(\"img\", {\n                  src: \"/static/img/favicons/app/rem_w.svg\"\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"sty-tag\",\n                children: /*#__PURE__*/_jsx(TagLang, {\n                  group: \"button\",\n                  tag: \"finish\"\n                })\n              })]\n            })\n          })]\n        })\n      })]\n    })\n  });\n}","map":null,"metadata":{},"sourceType":"module"}