{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from \"react\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { map } from \"lodash\";\nimport useApp from \"../../../../hooks/useApp\";\nimport TagLang from \"../../../modules/GetTagLang\";\nimport SetLink from \"../../../modules/SetLink\";\nimport request from \"../../../../helper/core_services/core/requestService\";\nimport nutri from \"../../../../helper/core_services/endpoints/nutritionist\";\nimport cleanerNullsObject from \"../../../../helper/array/cleanNullsObject\";\nimport subscription from \"../../../../helper/core_services/endpoints/subscription\";\nimport InputText from \"../../../components/Inputs/InputTypeForm_1/InputTextForm_1\";\nimport InputSelect from \"../../../components/Inputs/InputTypeForm_1/InputSelectForm_1\";\nimport FieldPic from \"../../../../helper/forms/elements/pic\";\nimport FieldDocument from \"../../../../helper/forms/elements/document\";\nimport { loadElement } from \"../../../../helper/appearance/load\";\nimport { message_1 } from \"../../../../helper/appearance/messages\";\nimport GetLanguage from \"../../../../helper/i18n/getValueTagLang\";\nimport ScrollError from \"../../../../helper/scroll/ScrollError\";\nexport default function FormProfile() {\n  var _useApp = useApp(),\n      locale = _useApp.locale;\n\n  var _useState = useState([]),\n      specialities = _useState[0],\n      setSpecialities = _useState[1];\n\n  var _useState2 = useState(null),\n      namePlan = _useState2[0],\n      setNamePlan = _useState2[1];\n\n  var formik = useFormik({\n    validateOnChange: false,\n    initialValues: initialValues(),\n    validationSchema: Yup.object(validationSchema()),\n    onSubmit: function () {\n      var _onSubmit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(formData, _ref) {\n        var resetForm;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                resetForm = _ref.resetForm;\n                SendForm(formData);\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function onSubmit(_x, _x2) {\n        return _onSubmit.apply(this, arguments);\n      }\n\n      return onSubmit;\n    }()\n  });\n  useEffect(function () {\n    GetSpecialities();\n  }, [locale]);\n  useEffect(function () {\n    GetData();\n  }, [locale]);\n  useEffect(function () {\n    GetPlan();\n  }, [locale]);\n\n  var GetData = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var req, values;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return request(nutri.get_nutritionist, null, null, {\n                locale: locale\n              });\n\n            case 2:\n              req = _context2.sent;\n\n              if (req != null) {\n                values = cleanerNullsObject(req);\n                formik.setValues(values);\n              }\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function GetData() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var GetSpecialities = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var req, selectSpecial;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return request(nutri.get_specialities, null, null, {\n                locale: locale\n              });\n\n            case 2:\n              req = _context3.sent;\n\n              if (req != null) {\n                selectSpecial = map(req.result, function (element, index) {\n                  return {\n                    id: element.id,\n                    name: element.name\n                  };\n                });\n                setSpecialities(selectSpecial);\n              }\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function GetSpecialities() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var GetPlan = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n      var req, _req$price;\n\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return request(subscription.get_subscription, null, null, {\n                locale: locale\n              });\n\n            case 2:\n              req = _context4.sent;\n\n              if (req != null) {\n                setNamePlan({\n                  name: req === null || req === void 0 ? void 0 : req.price.subscription.name,\n                  period: req === null || req === void 0 ? void 0 : (_req$price = req.price) === null || _req$price === void 0 ? void 0 : _req$price.name\n                });\n              }\n\n            case 4:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function GetPlan() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var SendForm = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(formData) {\n      var params, result;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              params = _objectSpread({}, formData);\n              if (params.picture == \"\") delete params.picture;\n              if (params.webPage == null) delete params.webPage;\n              if (params.cv == \"\") delete params.cv;\n              if (params.facebook == null) delete params.facebook;\n              if (params.twitter == null) delete params.twitter;\n              if (params.instagram == null) delete params.instagram;\n              loadElement(true);\n              _context5.next = 10;\n              return request(nutri.put_nutritionist, params, null, {\n                locale: locale\n              });\n\n            case 10:\n              result = _context5.sent;\n              loadElement(false);\n\n              if (result != null) {\n                message_1(GetLanguage(\"validation\", \"message_1\"));\n              }\n\n            case 13:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function SendForm(_x3) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  var ClickSend = function ClickSend() {\n    ScrollError();\n  };\n\n  return /*#__PURE__*/_jsxs(\"form\", {\n    onSubmit: formik.handleSubmit,\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: \"col-12 col-md-5 sty-hide-resp-1\",\n        children: [/*#__PURE__*/_jsx(FieldPic, {\n          formik: formik,\n          name: \"picture\"\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"sty-info-tag\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"sty-tag\",\n            children: /*#__PURE__*/_jsx(TagLang, {\n              group: \"input\",\n              tag: \"CV\"\n            })\n          })\n        }), /*#__PURE__*/_jsx(FieldDocument, {\n          formik: formik,\n          name: \"cv\"\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"col-12 col-md-7\",\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: \"row sty-cont-resp-1\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"col-12 col-md-4\",\n            children: /*#__PURE__*/_jsx(\"div\", {\n              className: \"sty-info-tag\",\n              children: /*#__PURE__*/_jsx(\"div\", {\n                className: \"sty-tag\",\n                children: /*#__PURE__*/_jsx(TagLang, {\n                  group: \"input\",\n                  tag: \"tag_code\"\n                })\n              })\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-12 col-md-4\",\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: \"sty-info-tag\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"sty-tag\",\n                children: /*#__PURE__*/_jsx(TagLang, {\n                  group: \"input\",\n                  tag: \"tag_plan\"\n                })\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: \"sty-data\",\n                children: [namePlan == null && /*#__PURE__*/_jsx(TagLang, {\n                  group: \"validation\",\n                  tag: \"no_plan\"\n                }), namePlan != null && /*#__PURE__*/_jsxs(_Fragment, {\n                  children: [namePlan.name, /*#__PURE__*/_jsx(\"br\", {}), namePlan.period]\n                })]\n              })]\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-12 col-md-4\",\n            children: /*#__PURE__*/_jsx(SetLink, {\n              route: \"/dashboard/profile/plan\",\n              children: /*#__PURE__*/_jsxs(\"button\", {\n                className: \"sty-button-dash-1 fix-25\",\n                children: [/*#__PURE__*/_jsx(\"div\", {\n                  className: \"sty-icon\",\n                  children: /*#__PURE__*/_jsx(\"img\", {\n                    src: \"/static/img/favicons/app/add_w.svg\"\n                  })\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  className: \"sty-tag\",\n                  children: /*#__PURE__*/_jsx(TagLang, {\n                    group: \"button\",\n                    tag: \"tag_d_1\"\n                  })\n                })]\n              })\n            })\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"col-12 col-md-6\",\n            children: /*#__PURE__*/_jsx(InputText, {\n              formik: formik,\n              title: \"name\",\n              name: \"firstName\",\n              value: formik.values.firstName,\n              error: formik.errors.firstName,\n              required: true\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-12 col-md-6\",\n            children: /*#__PURE__*/_jsx(InputText, {\n              formik: formik,\n              title: \"lastName\",\n              name: \"lastName\",\n              value: formik.values.lastName,\n              error: formik.errors.lastName,\n              required: true\n            })\n          })]\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"col-12\",\n            children: /*#__PURE__*/_jsx(InputSelect, {\n              formik: formik,\n              title: \"specialization\",\n              name: \"specialty\",\n              value: formik.values.specialty,\n              error: formik.errors.specialty,\n              elements: specialities,\n              required: true\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-12\",\n            children: /*#__PURE__*/_jsx(InputText, {\n              formik: formik,\n              title: \"professionalLicense\",\n              name: \"professionalLicense\",\n              value: formik.values.professionalLicense,\n              error: formik.errors.professionalLicense,\n              required: true\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-12\",\n            children: /*#__PURE__*/_jsx(InputText, {\n              formik: formik,\n              title: \"phone\",\n              name: \"phone\",\n              value: formik.values.phone,\n              error: formik.errors.phone,\n              required: true\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-12\",\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: \"sty-cont-input-2\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"sty-tag\",\n                children: /*#__PURE__*/_jsx(TagLang, {\n                  group: \"input\",\n                  tag: \"email\"\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"sty-input\",\n                children: /*#__PURE__*/_jsx(\"div\", {\n                  className: \"value-text\",\n                  children: formik.values.email\n                })\n              })]\n            })\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"col-12\",\n            children: [/*#__PURE__*/_jsxs(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"col-12 col-md-6\",\n                children: /*#__PURE__*/_jsx(InputText, {\n                  formik: formik,\n                  title: \"facebook\",\n                  name: \"facebook\",\n                  value: formik.values.facebook,\n                  error: formik.errors.facebook\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"col-12 col-md-6\",\n                children: /*#__PURE__*/_jsx(InputText, {\n                  formik: formik,\n                  title: \"twitter\",\n                  name: \"twitter\",\n                  value: formik.values.twitter,\n                  error: formik.errors.twitter\n                })\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"row\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"col-12 col-md-6\",\n                children: /*#__PURE__*/_jsx(InputText, {\n                  formik: formik,\n                  title: \"instagram\",\n                  name: \"instagram\",\n                  value: formik.values.instagram,\n                  error: formik.errors.instagram\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"col-12 col-md-6\",\n                children: /*#__PURE__*/_jsx(InputText, {\n                  formik: formik,\n                  title: \"webPage\",\n                  name: \"webPage\",\n                  value: formik.values.webPage,\n                  error: formik.errors.webPage\n                })\n              })]\n            })]\n          })]\n        })]\n      })]\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"text-center sty-magin-b-1\",\n      children: /*#__PURE__*/_jsxs(\"button\", {\n        className: \"sty-button-dash-1\",\n        type: \"submit\",\n        onClick: function onClick() {\n          return ClickSend();\n        },\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"sty-icon\",\n          children: /*#__PURE__*/_jsx(\"img\", {\n            src: \"/static/img/favicons/app/save_w.svg\"\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"sty-tag\",\n          children: /*#__PURE__*/_jsx(TagLang, {\n            group: \"button\",\n            tag: \"save\"\n          })\n        })]\n      })\n    })]\n  });\n}\n\nfunction initialValues() {\n  return {\n    firstName: \"\",\n    lastName: \"\",\n    specialty: \"\",\n    professionalLicense: \"\",\n    phone: \"\",\n    facebook: \"\",\n    twitter: \"\",\n    instagram: \"\",\n    webPage: \"\"\n  };\n}\n\nfunction validationSchema() {\n  return {\n    firstName: Yup.string().required(\"required\"),\n    lastName: Yup.string().required(\"required\"),\n    specialty: Yup.string().required(\"required\"),\n    professionalLicense: Yup.string().required(\"required\"),\n    phone: Yup.string().required(\"required\")\n  };\n}","map":null,"metadata":{},"sourceType":"module"}