{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/router\";\nimport { Modal, ModalHeader, ModalBody, ModalFooter } from \"reactstrap\";\nimport { map, size } from \"lodash\";\nimport TagLang from \"../../../../../modules/GetTagLang\";\nimport request from \"../../../../../../helper/core_services/core/requestService\";\nimport apiRecipe from \"../../../../../../helper/core_services/endpoints/recipes\";\nimport { difficult } from \"../../../.../../../../catalogs/recipe\";\nimport GetLanguage from \"../../../../../../helper/i18n/getValueTagLang\";\nimport style from \"./modal.module.scss\";\nexport default function ModalDetail(_ref) {\n  var activeModal = _ref.activeModal,\n      dataRecipe = _ref.dataRecipe;\n  var router = useRouter();\n\n  var _useState = useState(false),\n      flagModal = _useState[0],\n      setFlagModal = _useState[1];\n\n  var _useState2 = useState(false),\n      activeRefresh = _useState2[0],\n      setActiveRefresh = _useState2[1];\n\n  var _useState3 = useState({}),\n      recipe = _useState3[0],\n      setRecipe = _useState3[1];\n\n  useEffect(function () {\n    if (!router.isReady) return;\n    if (dataRecipe !== null && dataRecipe !== void 0 && dataRecipe.id) setActiveRefresh(true);\n  }, [router.isReady, dataRecipe]);\n  useEffect(function () {\n    if (activeRefresh) {\n      GetDataRecipe();\n      setActiveRefresh(false);\n    }\n  }, [activeRefresh]);\n\n  var GetDataRecipe = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var result, _result$name, _result$name2, newData, name, difficulty, findDifficult;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return request(apiRecipe.get_recipe, null, [dataRecipe.id], {\n                locale: router.locale\n              });\n\n            case 2:\n              result = _context.sent;\n\n              if (result != null) {\n                newData = _objectSpread({}, result);\n                name = \"\";\n                difficulty = \"\";\n                if (router.locale == \"es\") name = result === null || result === void 0 ? void 0 : (_result$name = result.name) === null || _result$name === void 0 ? void 0 : _result$name[\"es\"];\n                if (router.locale == \"en\") name = result === null || result === void 0 ? void 0 : (_result$name2 = result.name) === null || _result$name2 === void 0 ? void 0 : _result$name2[\"en-us\"];\n                newData.nameLang = name;\n                findDifficult = difficult.find(function (obj) {\n                  return obj.id === (newData === null || newData === void 0 ? void 0 : newData.difficulty);\n                });\n                if (findDifficult != undefined) difficulty = GetLanguage(\"input\", findDifficult.name);\n                newData.tagDifficult = difficulty;\n                newData.picture = size(result.images) > 0 ? result === null || result === void 0 ? void 0 : result.images[0].image : null;\n                setRecipe(newData);\n              }\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function GetDataRecipe() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    if (activeModal) setFlagModal(true);\n  }, [activeModal]);\n\n  var Toogle = function Toogle() {\n    setFlagModal(!flagModal);\n  };\n\n  return /*#__PURE__*/_jsxs(Modal, {\n    isOpen: flagModal,\n    toggle: Toogle,\n    className: \"modal-lg\",\n    children: [/*#__PURE__*/_jsx(ModalHeader, {\n      toggle: Toogle\n    }), /*#__PURE__*/_jsx(ModalBody, {\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: style.content,\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: style.name,\n          children: recipe === null || recipe === void 0 ? void 0 : recipe.nameLang\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: style.contSections,\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: style.contLeft,\n            children: [/*#__PURE__*/_jsxs(\"div\", {\n              className: style.contPicture,\n              children: [!(recipe !== null && recipe !== void 0 && recipe.picture) && /*#__PURE__*/_jsx(\"div\", {\n                className: style.tagPicture,\n                children: /*#__PURE__*/_jsx(TagLang, {\n                  group: \"validation\",\n                  tag: \"without_image\"\n                })\n              }), (recipe === null || recipe === void 0 ? void 0 : recipe.picture) && /*#__PURE__*/_jsx(\"div\", {\n                className: style.picture,\n                children: /*#__PURE__*/_jsx(\"img\", {\n                  src: recipe === null || recipe === void 0 ? void 0 : recipe.picture,\n                  alt: \"recipe_picture\"\n                })\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: style.contDataRow,\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: style.titleIngredients,\n                children: /*#__PURE__*/_jsx(TagLang, {\n                  group: \"input\",\n                  tag: \"ingredients\"\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: style.contIngredients,\n                children: map(recipe === null || recipe === void 0 ? void 0 : recipe.ingredients, function (elements) {\n                  var _elements$food;\n\n                  return /*#__PURE__*/_jsxs(\"div\", {\n                    className: style.ingredient,\n                    children: [/*#__PURE__*/_jsxs(\"div\", {\n                      className: style.nameIngredient,\n                      children: [\"\\u2027\", \" \", elements === null || elements === void 0 ? void 0 : (_elements$food = elements.food) === null || _elements$food === void 0 ? void 0 : _elements$food.name]\n                    }), /*#__PURE__*/_jsx(\"div\", {\n                      \"class\": style.dot\n                    }), /*#__PURE__*/_jsx(\"div\", {\n                      className: style.valueIngredient,\n                      children: elements === null || elements === void 0 ? void 0 : elements.display\n                    })]\n                  });\n                })\n              })]\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: style.contRight,\n            children: [/*#__PURE__*/_jsxs(\"div\", {\n              className: style.contDataInfos,\n              children: [/*#__PURE__*/_jsxs(\"div\", {\n                className: style.contDataInfo,\n                children: [/*#__PURE__*/_jsx(\"div\", {\n                  className: style.contNameInfo,\n                  children: /*#__PURE__*/_jsx(TagLang, {\n                    group: \"input\",\n                    tag: \"difficulty\"\n                  })\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  className: style.contValueInfo,\n                  children: recipe === null || recipe === void 0 ? void 0 : recipe.tagDifficult\n                })]\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: style.contDataInfo,\n                children: [/*#__PURE__*/_jsx(\"div\", {\n                  className: style.contNameInfo,\n                  children: /*#__PURE__*/_jsx(TagLang, {\n                    group: \"input\",\n                    tag: \"portions\"\n                  })\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  className: style.contValueInfo,\n                  children: recipe === null || recipe === void 0 ? void 0 : recipe.portions\n                })]\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: style.contDataRow2,\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: style.titlePrepa,\n                children: /*#__PURE__*/_jsx(TagLang, {\n                  group: \"input\",\n                  tag: \"preparation\"\n                })\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: style.contSteps,\n                children: map(recipe === null || recipe === void 0 ? void 0 : recipe.directions, function (element, index) {\n                  var _element$direction, _element$direction2;\n\n                  var direction = \"\";\n                  if (router.locale == \"es\") direction = element === null || element === void 0 ? void 0 : (_element$direction = element.direction) === null || _element$direction === void 0 ? void 0 : _element$direction[\"es\"];\n                  if (router.locale == \"en\") direction = element === null || element === void 0 ? void 0 : (_element$direction2 = element.direction) === null || _element$direction2 === void 0 ? void 0 : _element$direction2[\"en-us\"];\n                  return /*#__PURE__*/_jsxs(\"div\", {\n                    className: style.contStep,\n                    children: [/*#__PURE__*/_jsxs(\"div\", {\n                      className: style.contNumber,\n                      children: [/*#__PURE__*/_jsx(\"div\", {\n                        className: style.number,\n                        children: index + 1\n                      }), /*#__PURE__*/_jsx(\"div\", {\n                        className: style.contLine\n                      })]\n                    }), /*#__PURE__*/_jsx(\"div\", {\n                      className: style.instruction,\n                      children: direction\n                    })]\n                  });\n                })\n              })]\n            })]\n          })]\n        })]\n      })\n    }), /*#__PURE__*/_jsx(ModalFooter, {\n      children: /*#__PURE__*/_jsx(\"button\", {\n        className: \"sty-button-dash-1 color-3\",\n        onClick: function onClick() {\n          return Toogle();\n        },\n        children: /*#__PURE__*/_jsx(TagLang, {\n          group: \"button\",\n          tag: \"close\"\n        })\n      })\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}