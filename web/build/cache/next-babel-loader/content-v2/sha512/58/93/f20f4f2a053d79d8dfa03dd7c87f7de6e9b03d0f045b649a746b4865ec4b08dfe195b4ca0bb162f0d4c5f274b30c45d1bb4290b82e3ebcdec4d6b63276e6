{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport useApp from \"../../../../../../hooks/useApp\";\nimport TagLang from \"../../../../../modules/GetTagLang\";\nimport MessageValidation from \"../../../../../modules/Forms/MessageValidation\";\nimport GetLanguages from \"../../../../../../helper/i18n/getValueTagLang\";\nimport request from \"../../../../../../helper/core_services/core/requestService\";\nimport apiMedicalRecords from \"../../../../../../helper/core_services/endpoints/medical_records\";\nimport { loadElement } from \"../../../../../../helper/appearance/load\";\nimport FieldRadio from \"../../../../../../helper/forms/elements/radio\";\nexport default function FormGinecology(_ref) {\n  var _ref$idPatient = _ref.idPatient,\n      idPatient = _ref$idPatient === void 0 ? null : _ref$idPatient,\n      setFormGinecology = _ref.setFormGinecology,\n      setFlagSendGinecology = _ref.setFlagSendGinecology;\n\n  var _useApp = useApp(),\n      locale = _useApp.locale;\n\n  var _useState = useState({}),\n      flagsFields = _useState[0],\n      setFlagsFields = _useState[1];\n\n  var _useState2 = useState([]),\n      valuesPregnacy = _useState2[0],\n      setValuesPregnacy = _useState2[1];\n\n  var formik = useFormik({\n    validateOnChange: false,\n    initialValues: initialValues(),\n    validationSchema: Yup.object(validationSchema()),\n    onSubmit: function () {\n      var _onSubmit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(formData, _ref2) {\n        var resetForm;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                resetForm = _ref2.resetForm;\n                if (!(formData !== null && formData !== void 0 && formData.id)) SendForm(formData, resetForm);\n                if (formData !== null && formData !== void 0 && formData.id) UpdateForm(formData);\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function onSubmit(_x, _x2) {\n        return _onSubmit.apply(this, arguments);\n      }\n\n      return onSubmit;\n    }()\n  });\n  useEffect(function () {\n    setFormGinecology(formik);\n  }, []);\n  useEffect(function () {\n    if (idPatient != null) getInformation();\n  }, [idPatient]);\n  useEffect(function () {\n    setValuesPregnacy([{\n      tag: GetLanguages(\"input\", \"no\"),\n      value: false\n    }, {\n      tag: GetLanguages(\"input\", \"yes\"),\n      value: true\n    }]);\n  }, [locale]);\n  useEffect(function () {\n    GetFlagsActive();\n  }, []);\n\n  var getInformation = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var reqGyne;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return request(apiMedicalRecords.get_gyneco, null, [idPatient], {\n                locale: locale\n              }, false);\n\n            case 2:\n              reqGyne = _context2.sent;\n\n              if (reqGyne != null) {\n                formik.setValues(reqGyne);\n              }\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function getInformation() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var GetFlagsActive = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n      var req;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return request(apiMedicalRecords.get_settings_medical, null, null, {\n                locale: locale\n              }, false);\n\n            case 2:\n              req = _context3.sent;\n\n              if (req != null) {\n                setFlagsFields(req);\n              }\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function GetFlagsActive() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var SendForm = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(formData) {\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              loadElement(true);\n              _context4.next = 3;\n              return request(apiMedicalRecords.post_new_gyneco, formData, [formData.idUser], {\n                locale: locale\n              });\n\n            case 3:\n              loadElement(false);\n              setFlagSendGinecology(true);\n\n            case 5:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function SendForm(_x3) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  var UpdateForm = /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(formData) {\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              loadElement(true);\n              _context5.next = 3;\n              return request(apiMedicalRecords.patch_gyneco, formData, [idPatient], {\n                locale: locale\n              });\n\n            case 3:\n              loadElement(false);\n              setFlagSendGinecology(true);\n\n            case 5:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function UpdateForm(_x4) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsx(\"form\", {\n    onSubmit: formik.handleSubmit,\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: \"row\",\n      children: [(flagsFields === null || flagsFields === void 0 ? void 0 : flagsFields.pregnancy) && /*#__PURE__*/_jsxs(\"div\", {\n        className: \"col-12\",\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: \"sty-input-tag-g-1\",\n          children: /*#__PURE__*/_jsx(TagLang, {\n            group: \"input\",\n            tag: \"pregnant\"\n          })\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-12\",\n            children: /*#__PURE__*/_jsx(FieldRadio, {\n              formik: formik,\n              name: \"pregnancy\",\n              values: valuesPregnacy\n            })\n          })\n        })]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"col-12\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"row\",\n          children: [(flagsFields === null || flagsFields === void 0 ? void 0 : flagsFields.gestationalAge) && formik.values[\"pregnancy\"] == \"1\" && /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-6\",\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: \"sty-cont-input-2\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"sty-tag\",\n                children: /*#__PURE__*/_jsx(TagLang, {\n                  group: \"input\",\n                  tag: \"gestation_time\"\n                })\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: \"sty-input\",\n                children: [/*#__PURE__*/_jsx(\"textarea\", {\n                  name: \"gestationalAge\",\n                  value: formik.values.gestationalAge,\n                  onChange: formik.handleChange,\n                  rows: 3\n                }), /*#__PURE__*/_jsx(MessageValidation, {\n                  error: formik.errors.gestationalAge\n                })]\n              })]\n            })\n          }), (flagsFields === null || flagsFields === void 0 ? void 0 : flagsFields.lastMenstrualPeriod) && formik.values[\"pregnancy\"] == \"1\" && /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-6\",\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: \"sty-cont-input-2\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"sty-tag\",\n                children: /*#__PURE__*/_jsx(TagLang, {\n                  group: \"input\",\n                  tag: \"last_menstruation\"\n                })\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: \"sty-input\",\n                children: [/*#__PURE__*/_jsx(\"textarea\", {\n                  name: \"lastMenstrualPeriod\",\n                  value: formik.values.lastMenstrualPeriod,\n                  onChange: formik.handleChange,\n                  rows: 3\n                }), /*#__PURE__*/_jsx(MessageValidation, {\n                  error: formik.errors.lastMenstrualPeriod\n                })]\n              })]\n            })\n          }), (flagsFields === null || flagsFields === void 0 ? void 0 : flagsFields.hormonalProblems) && /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-6\",\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: \"sty-cont-input-2\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"sty-tag\",\n                children: /*#__PURE__*/_jsx(TagLang, {\n                  group: \"input\",\n                  tag: \"hormonal_problems\"\n                })\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: \"sty-input\",\n                children: [/*#__PURE__*/_jsx(\"textarea\", {\n                  name: \"hormonalProblems\",\n                  value: formik.values.hormonalProblems,\n                  onChange: formik.handleChange,\n                  rows: 3\n                }), /*#__PURE__*/_jsx(MessageValidation, {\n                  error: formik.errors.hormonalProblems\n                })]\n              })]\n            })\n          }), (flagsFields === null || flagsFields === void 0 ? void 0 : flagsFields.hormonalTherapy) && /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-6\",\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: \"sty-cont-input-2\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"sty-tag\",\n                children: /*#__PURE__*/_jsx(TagLang, {\n                  group: \"input\",\n                  tag: \"hormonal_therapy\"\n                })\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: \"sty-input\",\n                children: [/*#__PURE__*/_jsx(\"textarea\", {\n                  name: \"hormonalTherapy\",\n                  value: formik.values.hormonalTherapy,\n                  onChange: formik.handleChange,\n                  rows: 3\n                }), /*#__PURE__*/_jsx(MessageValidation, {\n                  error: formik.errors.hormonalTherapy\n                })]\n              })]\n            })\n          }), (flagsFields === null || flagsFields === void 0 ? void 0 : flagsFields.contraceptives) && /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-6\",\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: \"sty-cont-input-2\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"sty-tag\",\n                children: /*#__PURE__*/_jsx(TagLang, {\n                  group: \"input\",\n                  tag: \"contraceptives_1\"\n                })\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: \"sty-input\",\n                children: [/*#__PURE__*/_jsx(\"textarea\", {\n                  name: \"contraceptives\",\n                  value: formik.values.contraceptives,\n                  onChange: formik.handleChange,\n                  rows: 3\n                }), /*#__PURE__*/_jsx(MessageValidation, {\n                  error: formik.errors.contraceptives\n                })]\n              })]\n            })\n          }), (flagsFields === null || flagsFields === void 0 ? void 0 : flagsFields.climacteric) && /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-6\",\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: \"sty-cont-input-2\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"sty-tag\",\n                children: /*#__PURE__*/_jsx(TagLang, {\n                  group: \"input\",\n                  tag: \"climacteric\"\n                })\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: \"sty-input\",\n                children: [/*#__PURE__*/_jsx(\"textarea\", {\n                  name: \"climacteric\",\n                  value: formik.values.climacteric,\n                  onChange: formik.handleChange,\n                  rows: 3\n                }), /*#__PURE__*/_jsx(MessageValidation, {\n                  error: formik.errors.climacteric\n                })]\n              })]\n            })\n          })]\n        })\n      })]\n    })\n  });\n}\n\nfunction initialValues() {\n  return {\n    pregnancy: false,\n    gestationalAge: \"\",\n    lastMenstrualPeriod: \"\",\n    hormonalProblems: \"\",\n    hormonalTherapy: \"\",\n    contraceptives: \"\",\n    climacteric: \"\"\n  };\n}\n\nfunction validationSchema() {\n  return {};\n}","map":null,"metadata":{},"sourceType":"module"}