{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faCog } from \"@fortawesome/free-solid-svg-icons\";\nimport classnames from \"classnames\";\nimport useApp from \"../../../../../hooks/useApp\";\nimport TagLang from \"../../../../modules/GetTagLang\";\nimport SetLink from \"../../../../modules/SetLink\";\nimport request from \"../../../../../helper/core_services/core/requestService\";\nimport apiMedical from \"../../../../../helper/core_services/endpoints/medical_records\";\nimport patients from \"../../../../../helper/core_services/endpoints/patients\";\nimport subscription from \"../../../../../helper/core_services/endpoints/subscription\";\nimport Table from \"./Table\";\nexport default function Patients() {\n  var _useApp = useApp(),\n      locale = _useApp.locale;\n\n  var _useState = useState(true),\n      flagAddPatient = _useState[0],\n      setFlagAddPatient = _useState[1];\n\n  var _useState2 = useState(0),\n      countElement = _useState2[0],\n      setCountElement = _useState2[1];\n\n  useEffect(function () {\n    ValidateMedicalSettings();\n    GetDataSubscription();\n  }, []);\n\n  var GetDataSubscription = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var reqSubscription, reqPatients, _reqSubscription$pric, _reqSubscription$pric2, _reqSubscription$pric3, _reqSubscription$pric4;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return request(subscription.get_subscription, null, null, {\n                locale: locale\n              });\n\n            case 2:\n              reqSubscription = _context.sent;\n              _context.next = 5;\n              return request(patients.get_patients, {\n                page_size: 1\n              }, null, {\n                locale: locale\n              });\n\n            case 5:\n              reqPatients = _context.sent;\n\n              if (reqSubscription != null && reqPatients != null) {\n                setCountElement((reqSubscription === null || reqSubscription === void 0 ? void 0 : (_reqSubscription$pric = reqSubscription.price) === null || _reqSubscription$pric === void 0 ? void 0 : (_reqSubscription$pric2 = _reqSubscription$pric.subscription) === null || _reqSubscription$pric2 === void 0 ? void 0 : _reqSubscription$pric2.patients) - reqPatients.page.count);\n\n                if ((reqSubscription === null || reqSubscription === void 0 ? void 0 : (_reqSubscription$pric3 = reqSubscription.price) === null || _reqSubscription$pric3 === void 0 ? void 0 : (_reqSubscription$pric4 = _reqSubscription$pric3.subscription) === null || _reqSubscription$pric4 === void 0 ? void 0 : _reqSubscription$pric4.patients) <= reqPatients.page.count) {\n                  setFlagAddPatient(false);\n                }\n              }\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function GetDataSubscription() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var ValidateMedicalSettings = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var resultMedical, _resultMedical;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return request(apiMedical.get_settings_medical, null, null, null, false);\n\n            case 2:\n              resultMedical = _context2.sent;\n\n              if (!(resultMedical == null)) {\n                _context2.next = 7;\n                break;\n              }\n\n              _context2.next = 6;\n              return request(apiMedical.post_settings_medical, medicalFields);\n\n            case 6:\n              _resultMedical = _context2.sent;\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function ValidateMedicalSettings() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(\"div\", {\n      className: \"col-12\"\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"sty-bar-config\",\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: \"text-notice \".concat(classnames({\n          deactive: !flagAddPatient\n        })),\n        children: [flagAddPatient && /*#__PURE__*/_jsx(TagLang, {\n          group: \"validation\",\n          tag: \"available_patients\",\n          dynamic: [countElement]\n        }), !flagAddPatient && /*#__PURE__*/_jsx(TagLang, {\n          group: \"validation\",\n          tag: \"unavailable_patients\"\n        })]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"sty-cont-button\",\n        children: /*#__PURE__*/_jsx(SetLink, {\n          route: \"/dashboard/patients/configuration\",\n          children: /*#__PURE__*/_jsx(\"button\", {\n            children: /*#__PURE__*/_jsx(FontAwesomeIcon, {\n              icon: faCog\n            })\n          })\n        })\n      })]\n    }), /*#__PURE__*/_jsx(Table, {\n      flagAddPatient: flagAddPatient\n    })]\n  });\n}\nvar medicalFields = {\n  reason: true,\n  notes: true,\n  diarrhea: true,\n  constipation: true,\n  gastritis: true,\n  ulcer: true,\n  nausea: true,\n  pyrosis: true,\n  vomit: true,\n  colitis: true,\n  observations: true,\n  disease: true,\n  pastDisease: true,\n  laxative: true,\n  diuretic: true,\n  antacid: true,\n  analgesic: true,\n  surgeries: true,\n  obesity: true,\n  diabetes: true,\n  hypertension: true,\n  cancer: true,\n  thyroidProblems: true,\n  dyslipidemia: true,\n  heartDisease: true,\n  gastrointestinalDisease: true,\n  otherDiseases: true,\n  pregnancy: true,\n  gestationalAge: true,\n  lastMenstrualPeriod: true,\n  hormonalProblems: true,\n  hormonalTherapy: true,\n  contraceptives: true,\n  climacteric: true,\n  alcohol: true,\n  smoke: true,\n  coffee: true,\n  meals: true,\n  allergies: true,\n  restrictions: true,\n  water: true,\n  dislikes: true,\n  preferred: true,\n  dietNotes: true\n};","map":null,"metadata":{},"sourceType":"module"}