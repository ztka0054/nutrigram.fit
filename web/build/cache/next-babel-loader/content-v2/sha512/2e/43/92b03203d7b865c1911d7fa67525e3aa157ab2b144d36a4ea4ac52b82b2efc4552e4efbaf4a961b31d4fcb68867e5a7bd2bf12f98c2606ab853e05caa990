{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useState, useRef, useEffect } from \"react\";\nimport { size } from \"lodash\";\nimport Icons from \"../../../components/modules/Icons\";\nimport TagLang from \"../../../components/modules/GetTagLang\";\nvar picture = \"/static/img/favicons/app/pic_1.png\";\nexport default function pic(_ref) {\n  var formik = _ref.formik,\n      name = _ref.name;\n\n  var _useState = useState(picture),\n      elementPreview = _useState[0],\n      setElementPreview = _useState[1];\n\n  var _useState2 = useState(false),\n      videoFlag = _useState2[0],\n      setVideoFlag = _useState2[1];\n\n  var contVideo = useRef();\n  var video = useRef();\n  useEffect(function () {\n    ChangeFormik();\n  }, [formik.values[name]]);\n\n  var Click = function Click() {\n    contVideo.current.click();\n  };\n\n  var Change = function Change(e) {\n    if (size(e.target.files) > 0) {\n      formik.setFieldValue(name, e.target.files[0]);\n    } else {\n      formik.setFieldValue(null);\n    }\n  };\n\n  var ChangeFormik = function ChangeFormik() {\n    var value = formik.values[name];\n\n    if (value) {\n      if (typeof value == \"string\") {\n        setElementPreview(value);\n        setVideoFlag(true);\n      } else {\n        setElementPreview(URL.createObjectURL(value));\n        setVideoFlag(true);\n      }\n    } else {\n      setElementPreview(picture);\n    }\n\n    if (video !== null && video !== void 0 && video.current) video.current.load();\n  };\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"sty-cont-load-img-1\",\n    onClick: function onClick() {\n      return Click();\n    },\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      className: \"sty-pic\",\n      children: [!videoFlag && /*#__PURE__*/_jsx(\"img\", {\n        src: elementPreview\n      }), videoFlag && /*#__PURE__*/_jsx(\"video\", {\n        id: \"video-element\",\n        controls: true,\n        ref: video,\n        children: /*#__PURE__*/_jsx(\"source\", {\n          type: \"video/mp4\",\n          src: elementPreview\n        })\n      })]\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"sty-tag\",\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \"sty-icon\",\n        children: /*#__PURE__*/_jsx(\"img\", {\n          src: \"/static/img/favicons/app/add_b.svg\"\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"sty-name\",\n        children: /*#__PURE__*/_jsx(TagLang, {\n          group: \"input\",\n          tag: \"tag_add_video\"\n        })\n      })]\n    }), /*#__PURE__*/_jsx(\"input\", {\n      ref: contVideo,\n      type: \"file\",\n      accept: \"video/mp4\",\n      className: \"sty-hide-element\",\n      onChange: function onChange(e) {\n        return Change(e);\n      }\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}