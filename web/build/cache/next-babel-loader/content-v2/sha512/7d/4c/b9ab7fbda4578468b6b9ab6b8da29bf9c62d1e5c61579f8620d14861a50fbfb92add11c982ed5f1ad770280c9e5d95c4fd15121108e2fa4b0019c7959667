{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/router\";\nimport useAuth from \"../../../../../../hooks/useAuth\";\nimport useApp from \"../../../../../../hooks/useApp\";\nimport ModalDelete from \"../../../../../modules/Dashboard/Table/ModalDelete\";\nimport TagLang from \"../../../../../modules/GetTagLang\";\nimport request from \"../../../../../../helper/core_services/core/requestService\";\nimport recipe from \"../../../../../../helper/core_services/endpoints/recipes\";\nimport { loadElement } from \"../../../../../../helper/appearance/load\";\nvar iconEdit = \"/static/img/favicons/dashboard/edit_w.svg\";\nvar iconDelete = \"/static/img/favicons/dashboard/delete_w.svg\";\nexport default function Rows(_ref) {\n  var row = _ref.row,\n      values = _ref.values,\n      UpdateTable = _ref.UpdateTable;\n  var router = useRouter();\n\n  var _useAuth = useAuth(),\n      auth = _useAuth.auth;\n\n  var _useApp = useApp(),\n      locale = _useApp.locale;\n\n  var _useState = useState(false),\n      flagModal = _useState[0],\n      setFlagModal = _useState[1];\n\n  var _useState2 = useState(null),\n      idElement = _useState2[0],\n      setIdElement = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      name = _useState3[0],\n      setName = _useState3[1];\n\n  var _useState4 = useState(false),\n      flagOptions = _useState4[0],\n      setFlagOptions = _useState4[1];\n\n  useEffect(function () {\n    if (locale == \"en\") setName(row.name[\"en-us\"]);\n    if (locale == \"es\") setName(row.name[\"es\"]);\n  }, [locale, row]);\n  useEffect(function () {\n    if (\"\".concat(row.nutritionist) === \"\".concat(auth.idNutritionist)) setFlagOptions(true);else setFlagOptions(false);\n  }, [row, auth]);\n\n  var ShowDetail = function ShowDetail(id) {\n    router.push(\"/dashboard/recipes/detail/1/\".concat(values.category, \"/\").concat(id));\n  };\n\n  var ShowModal = function ShowModal(id) {\n    toogleModal();\n    setIdElement(id);\n  };\n\n  var DeleteRow = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var req;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              toogleModal();\n              loadElement(true);\n              _context.next = 4;\n              return request(recipe.delete_recipes, {}, [idElement], {\n                locale: locale\n              });\n\n            case 4:\n              req = _context.sent;\n              loadElement(false);\n\n              if (req != null) {\n                UpdateTable();\n              }\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function DeleteRow() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var toogleModal = function toogleModal() {\n    setFlagModal(!flagModal);\n  };\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsxs(\"tr\", {\n      children: [/*#__PURE__*/_jsx(\"td\", {\n        children: name\n      }), /*#__PURE__*/_jsxs(\"td\", {\n        children: [!flagOptions && /*#__PURE__*/_jsx(\"button\", {\n          className: \"sty-button-table-1 color-1 margin-1\",\n          onClick: function onClick() {\n            return ShowDetail(row.id);\n          },\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"sty-tag\",\n            children: /*#__PURE__*/_jsx(TagLang, {\n              group: \"button\",\n              tag: \"see\"\n            })\n          })\n        }), flagOptions && /*#__PURE__*/_jsxs(_Fragment, {\n          children: [/*#__PURE__*/_jsxs(\"button\", {\n            className: \"sty-button-table-1 color-1 margin-1\",\n            onClick: function onClick() {\n              return ShowDetail(row.id);\n            },\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \"sty-icon\",\n              children: /*#__PURE__*/_jsx(\"img\", {\n                src: iconEdit\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"sty-tag\",\n              children: /*#__PURE__*/_jsx(TagLang, {\n                group: \"button\",\n                tag: \"edit\"\n              })\n            })]\n          }), /*#__PURE__*/_jsxs(\"button\", {\n            className: \"sty-button-table-1 color-2\",\n            onClick: function onClick() {\n              return ShowModal(row.id);\n            },\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \"sty-icon\",\n              children: /*#__PURE__*/_jsx(\"img\", {\n                src: iconDelete\n              })\n            }), /*#__PURE__*/_jsx(\"div\", {\n              className: \"sty-tag\",\n              children: /*#__PURE__*/_jsx(TagLang, {\n                group: \"button\",\n                tag: \"delete\"\n              })\n            })]\n          })]\n        })]\n      })]\n    }), /*#__PURE__*/_jsx(ModalDelete, {\n      flagModal: flagModal,\n      toogleModalChild: toogleModal,\n      functionButton: DeleteRow\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}