{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from \"react\";\nimport { useRouter } from \"next/router\";\nimport { map, size } from \"lodash\";\nimport { useFormik, FieldArray, FormikProvider } from \"formik\";\nimport * as Yup from \"yup\";\nimport useApp from \"../../../../../hooks/useApp\";\nimport TagLang from \"../../../../modules/GetTagLang\";\nimport MessageValidation from \"../../../../modules/Forms/MessageValidation\";\nimport SelectLanguage from \"../../../../components/SelectLanguage\";\nimport GetLanguage from \"../../../../../helper/i18n/getValueTagLang\";\nimport request from \"../../../../../helper/core_services/core/requestService\";\nimport recipes from \"../../../../../helper/core_services/endpoints/recipes\";\nimport { loadElement } from \"../../../../../helper/appearance/load\";\nimport InputPicture from \"../../../../components/Inputs/InputImages/InputImage_1\";\nimport InputTextForm_1 from \"../../../../components/Inputs/InputTypeForm_1/InputTextForm_1\";\nimport InputNumber_1 from \"../../../../components/Inputs/InputTypeForm_1/InputNumber_1\";\nimport InputSelectForm_1 from \"../../../../components/Inputs/InputTypeForm_1/InputSelectForm_1\";\nimport InputCheckForm_1 from \"../../../../components/Inputs/InputTypeForm_1/InputCheckForm_1\";\nimport ScrollError from \"../../../../../helper/scroll/ScrollError\";\nimport SubCategoryCont from \"./SubCategoryCont\";\nimport SubRegionCont from \"./SubRegionCont\";\nimport SubIngredientCont from \"./SubIngredientCont\";\nimport SubDirectionCont from \"./SubDirectionCont\";\nimport SubEquivalentCont from \"./SubEquivalentCont\";\nexport default function NewRecipe(_ref) {\n  var _formik$errors, _formik$errors2, _formik$errors3, _formik$errors4, _formik$errors5, _formik$errors6, _formik$errors7;\n\n  var idElement = _ref.idElement,\n      type = _ref.type,\n      idList = _ref.idList,\n      dataRecipe = _ref.dataRecipe,\n      flagEditRecipe = _ref.flagEditRecipe;\n\n  var _useApp = useApp(),\n      locale = _useApp.locale;\n\n  var router = useRouter();\n\n  var _useState = useState([]),\n      elementsDiffucult = _useState[0],\n      setElementsDiffucult = _useState[1];\n\n  var _useState2 = useState([]),\n      equivalents = _useState2[0],\n      setEquivalents = _useState2[1];\n\n  var _useState3 = useState(false),\n      showEquivalents = _useState3[0],\n      setShowEquivalents = _useState3[1];\n\n  var _useState4 = useState(1),\n      statusLanguage = _useState4[0],\n      setStatusLanguage = _useState4[1];\n\n  var formik = useFormik({\n    validateOnChange: false,\n    initialValues: initialValues(),\n    validationSchema: Yup.object(validationSchema()),\n    onSubmit: function () {\n      var _onSubmit = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(formData, _ref2) {\n        var resetForm;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                resetForm = _ref2.resetForm;\n                if (!(formData !== null && formData !== void 0 && formData.id)) SaveRecipe(formData);else UpdateRecipe(formData);\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function onSubmit(_x, _x2) {\n        return _onSubmit.apply(this, arguments);\n      }\n\n      return onSubmit;\n    }()\n  });\n  useEffect(function () {\n    GetEquivalentsNumber();\n  }, []);\n  useEffect(function () {\n    if (dataRecipe != null) GetData();\n  }, [dataRecipe]);\n  useEffect(function () {\n    GetElementsDifficult();\n  }, [locale]);\n\n  var GetData = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var data, reqEqui, directions, _equivalents;\n\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              data = {};\n              _context2.next = 3;\n              return request(recipes.get_equivalents, null, [idElement], {\n                locale: locale\n              });\n\n            case 3:\n              reqEqui = _context2.sent;\n              data = _objectSpread({}, dataRecipe);\n              delete data.nutritionist;\n              data[\"name_es\"] = data.name[\"es\"];\n              data[\"name_en\"] = data.name[\"en-us\"];\n              delete data.name;\n              directions = map(data.directions, function (element) {\n                return {\n                  direction_es: element.direction[\"es\"],\n                  direction_en: element.direction[\"en-us\"]\n                };\n              });\n              data.directions = directions;\n\n              if (size(data.images) > 0) {\n                data.image_check = data.images[0].image;\n                data.image_pic_preview = data.images[0].image;\n                delete data.images;\n              }\n\n              if (size(data.categories) > 0) {\n                data.categories = map(data.categories, function (element) {\n                  return {\n                    category: element\n                  };\n                });\n              }\n\n              if (size(data.regions) > 0) {\n                data.regions = map(data.regions, function (element) {\n                  return {\n                    region: element\n                  };\n                });\n              }\n\n              if (size(data.ingredients) > 0) {\n                data.ingredients = map(data.ingredients, function (element) {\n                  return {\n                    id: element.id,\n                    name: element.food.name,\n                    food: element.food.id,\n                    category: element.food.category,\n                    portion: element.portion.id,\n                    quantity: element.quantity,\n                    flagLoad: true\n                  };\n                });\n              }\n\n              if (reqEqui != null) {\n                _equivalents = [];\n                _equivalents = map(reqEqui, function (element) {\n                  return {\n                    equivalent: element.equivalent.id,\n                    recipe: element.equivalent\n                  };\n                });\n                data.equivalents = _equivalents;\n                setEquivalents(reqEqui);\n              }\n\n              formik.setValues(data);\n\n            case 17:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function GetData() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var GetElementsDifficult = function GetElementsDifficult() {\n    var data = [{\n      name: GetLanguage(\"input\", \"select_diff_1\"),\n      id: \"0\"\n    }, {\n      name: GetLanguage(\"input\", \"select_diff_2\"),\n      id: \"1\"\n    }, {\n      name: GetLanguage(\"input\", \"select_diff_3\"),\n      id: \"2\"\n    }];\n    setElementsDiffucult(data);\n  };\n\n  var SaveRecipe = /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(formData) {\n      var params, req;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              params = _objectSpread({}, formData);\n              params.name = {\n                es: params.name_es,\n                \"en-us\": params.name_en\n              };\n              delete params.name_es;\n              delete params.name_en;\n              params.directions = map(params.directions, function (element) {\n                return {\n                  direction: {\n                    es: element.direction_es,\n                    \"en-us\": element.direction_en\n                  }\n                };\n              });\n              params.categories = map(formData.categories, function (element) {\n                return element.category;\n              });\n              params.regions = map(formData.regions, function (element) {\n                return element.region;\n              });\n              loadElement(true);\n              _context3.next = 10;\n              return request(recipes.post_create_recipes, params, [], {\n                locale: locale\n              });\n\n            case 10:\n              req = _context3.sent;\n\n              if (!(req != null)) {\n                _context3.next = 17;\n                break;\n              }\n\n              _context3.next = 14;\n              return SaveImage(req, params);\n\n            case 14:\n              _context3.next = 16;\n              return SaveEquivalents(req, params);\n\n            case 16:\n              RouteSave();\n\n            case 17:\n              loadElement(false);\n\n            case 18:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function SaveRecipe(_x3) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  var UpdateRecipe = /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(formData) {\n      var params, req;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              params = _objectSpread({}, formData);\n              params.name = {\n                es: params.name_es,\n                \"en-us\": params.name_en\n              };\n              delete params.name_es;\n              delete params.name_en;\n              params.directions = map(params.directions, function (element) {\n                return {\n                  direction: {\n                    es: element.direction_es,\n                    \"en-us\": element.direction_en\n                  }\n                };\n              });\n              params.categories = map(formData.categories, function (element) {\n                return element.category;\n              });\n              params.regions = map(formData.regions, function (element) {\n                return element.region;\n              });\n              loadElement(true);\n              _context4.next = 10;\n              return request(recipes.patch_update_recipes, params, [idElement], {\n                locale: locale\n              });\n\n            case 10:\n              req = _context4.sent;\n\n              if (!(req != null)) {\n                _context4.next = 17;\n                break;\n              }\n\n              _context4.next = 14;\n              return SaveImage(req, params);\n\n            case 14:\n              _context4.next = 16;\n              return SaveEquivalents(req, params);\n\n            case 16:\n              RouteSave();\n\n            case 17:\n              loadElement(false);\n\n            case 18:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function UpdateRecipe(_x4) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  var RouteSave = function RouteSave() {\n    if (type === \"1\") router.push(\"/dashboard/recipes/list_category/\".concat(idList));\n    if (type === \"2\") router.push(\"/dashboard/recipes/list_type/\".concat(idList));\n  };\n\n  var SaveImage = /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(info, params) {\n      var deleteImages;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              if (!(params !== null && params !== void 0 && params.image)) {\n                _context5.next = 7;\n                break;\n              }\n\n              deleteImages = [];\n\n              if (size(info.images) > 0) {\n                map(info.images, function (element) {\n                  deleteImages.push(request(recipes.delete_image, null, [info.id, element.id], {\n                    locale: locale\n                  }));\n                });\n              }\n\n              _context5.next = 5;\n              return Promise.all(deleteImages);\n\n            case 5:\n              _context5.next = 7;\n              return request(recipes.post_image, {\n                image: params.image\n              }, [info.id], {\n                locale: locale\n              });\n\n            case 7:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function SaveImage(_x5, _x6) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n\n  var SaveEquivalents = /*#__PURE__*/function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(info, params) {\n      var equivalentsNew, deleteEquivalents;\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              equivalentsNew = [];\n              deleteEquivalents = [];\n              map(equivalents, function (element) {\n                var find = params.equivalents.find(function (obj) {\n                  return obj.equivalent === element.equivalent;\n                });\n                if (find == undefined) deleteEquivalents.push(request(recipes.delete_equivalents, null, [info.id, element.id], {\n                  locale: locale\n                }));\n              });\n              _context6.next = 5;\n              return Promise.all(deleteEquivalents);\n\n            case 5:\n              if (!(params !== null && params !== void 0 && params.equivalents)) {\n                _context6.next = 9;\n                break;\n              }\n\n              map(params.equivalents, function (element) {\n                equivalentsNew.push(request(recipes.post_equivalent, {\n                  equivalent: element.equivalent\n                }, [info.id], {\n                  locale: locale\n                }));\n              });\n              _context6.next = 9;\n              return Promise.all(equivalentsNew);\n\n            case 9:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6);\n    }));\n\n    return function SaveEquivalents(_x7, _x8) {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n\n  var GetEquivalentsNumber = /*#__PURE__*/function () {\n    var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7() {\n      var req;\n      return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              _context7.next = 2;\n              return request(recipes.get_recipe, null, [], {\n                locale: locale\n              });\n\n            case 2:\n              req = _context7.sent;\n              if (req != null) if (size(req) > 0) setShowEquivalents(true);\n\n            case 4:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, _callee7);\n    }));\n\n    return function GetEquivalentsNumber() {\n      return _ref8.apply(this, arguments);\n    };\n  }();\n\n  var ClickSend = function ClickSend() {\n    ScrollError();\n  };\n\n  return /*#__PURE__*/_jsx(\"form\", {\n    onSubmit: formik.handleSubmit,\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \"col-5\",\n        children: /*#__PURE__*/_jsx(InputPicture, {\n          formik: formik,\n          name: \"image\",\n          error: formik === null || formik === void 0 ? void 0 : (_formik$errors = formik.errors) === null || _formik$errors === void 0 ? void 0 : _formik$errors[\"image\".concat(\"_check\")],\n          disabled: !flagEditRecipe\n        })\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"col-7\",\n        children: [/*#__PURE__*/_jsx(SelectLanguage, {\n          statusLanguage: statusLanguage,\n          setStatusLanguage: setStatusLanguage,\n          error: formik === null || formik === void 0 ? void 0 : (_formik$errors2 = formik.errors) === null || _formik$errors2 === void 0 ? void 0 : _formik$errors2.language,\n          children: /*#__PURE__*/_jsxs(\"div\", {\n            className: \"sty-cont-input-2\",\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \"sty-tag\",\n              children: /*#__PURE__*/_jsx(TagLang, {\n                group: \"input\",\n                tag: \"name\"\n              })\n            }), statusLanguage == 1 && /*#__PURE__*/_jsx(\"div\", {\n              className: \"sty-input\",\n              children: /*#__PURE__*/_jsx(\"input\", {\n                name: \"name_es\",\n                type: \"text\",\n                value: formik.values.name_es,\n                onChange: formik.handleChange,\n                disabled: !flagEditRecipe\n              })\n            }), statusLanguage == 2 && /*#__PURE__*/_jsx(\"div\", {\n              className: \"sty-input\",\n              children: /*#__PURE__*/_jsx(\"input\", {\n                name: \"name_en\",\n                type: \"text\",\n                value: formik.values.name_en,\n                onChange: formik.handleChange,\n                disabled: !flagEditRecipe\n              })\n            })]\n          })\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"row margin-top-2\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"col-9\",\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: \"sty-cont-input-2\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"sty-tag\",\n                children: /*#__PURE__*/_jsx(TagLang, {\n                  group: \"input\",\n                  tag: \"categories\"\n                })\n              }), /*#__PURE__*/_jsx(FormikProvider, {\n                value: formik,\n                children: /*#__PURE__*/_jsx(FieldArray, {\n                  name: \"categories\",\n                  render: function render(arrayHelpers) {\n                    return /*#__PURE__*/_jsx(SubCategoryCont, {\n                      formik: formik,\n                      arrayHelpers: arrayHelpers,\n                      father: \"categories\",\n                      flagEditRecipe: flagEditRecipe\n                    });\n                  }\n                })\n              })]\n            })\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"col-3\",\n            children: [/*#__PURE__*/_jsx(\"br\", {}), /*#__PURE__*/_jsx(InputCheckForm_1, {\n              formik: formik,\n              title: \"public\",\n              name: \"isPublic\",\n              value: formik.values.isPublic,\n              error: formik === null || formik === void 0 ? void 0 : (_formik$errors3 = formik.errors) === null || _formik$errors3 === void 0 ? void 0 : _formik$errors3.isPublic,\n              disabled: !flagEditRecipe\n            })]\n          })]\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"row\",\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-9\",\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: \"sty-cont-input-2\",\n              children: [/*#__PURE__*/_jsx(\"div\", {\n                className: \"sty-tag\",\n                children: /*#__PURE__*/_jsx(TagLang, {\n                  group: \"input\",\n                  tag: \"regions\"\n                })\n              }), /*#__PURE__*/_jsx(FormikProvider, {\n                value: formik,\n                children: /*#__PURE__*/_jsx(FieldArray, {\n                  name: \"regions\",\n                  render: function render(arrayHelpers) {\n                    return /*#__PURE__*/_jsx(SubRegionCont, {\n                      formik: formik,\n                      arrayHelpers: arrayHelpers,\n                      father: \"regions\",\n                      flagEditRecipe: flagEditRecipe\n                    });\n                  }\n                })\n              })]\n            })\n          })\n        }), /*#__PURE__*/_jsxs(\"div\", {\n          className: \"row\",\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"col-6\",\n            children: /*#__PURE__*/_jsx(InputSelectForm_1, {\n              formik: formik,\n              elements: elementsDiffucult,\n              title: \"difficulty\",\n              name: \"difficulty\",\n              value: formik.values.difficulty,\n              error: formik === null || formik === void 0 ? void 0 : (_formik$errors4 = formik.errors) === null || _formik$errors4 === void 0 ? void 0 : _formik$errors4.difficulty,\n              disabled: !flagEditRecipe\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"col-6\",\n            children: /*#__PURE__*/_jsx(InputNumber_1, {\n              formik: formik,\n              title: \"portions\",\n              name: \"portions\",\n              value: formik.values.portions,\n              error: formik === null || formik === void 0 ? void 0 : (_formik$errors5 = formik.errors) === null || _formik$errors5 === void 0 ? void 0 : _formik$errors5.portions,\n              disabled: !flagEditRecipe\n            })\n          })]\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"sty-cont-input-2\",\n          children: /*#__PURE__*/_jsx(InputTextForm_1, {\n            formik: formik,\n            title: \"instagram\",\n            name: \"instagramLink\",\n            value: formik.values.instagramLink,\n            error: formik === null || formik === void 0 ? void 0 : (_formik$errors6 = formik.errors) === null || _formik$errors6 === void 0 ? void 0 : _formik$errors6.instagramLink,\n            disabled: !flagEditRecipe\n          })\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"col-12\",\n        children: [/*#__PURE__*/_jsx(\"hr\", {}), /*#__PURE__*/_jsx(\"div\", {\n          className: \"sty-dyna-title-1\",\n          children: /*#__PURE__*/_jsx(TagLang, {\n            group: \"input\",\n            tag: \"ingredients\"\n          })\n        }), /*#__PURE__*/_jsx(FormikProvider, {\n          value: formik,\n          children: /*#__PURE__*/_jsx(FieldArray, {\n            name: \"ingredients\",\n            render: function render(arrayHelpers) {\n              return /*#__PURE__*/_jsx(SubIngredientCont, {\n                formik: formik,\n                arrayHelpers: arrayHelpers,\n                father: \"ingredients\",\n                flagEditRecipe: flagEditRecipe\n              });\n            }\n          })\n        }), typeof ((_formik$errors7 = formik.errors) === null || _formik$errors7 === void 0 ? void 0 : _formik$errors7.ingredients) === \"string\" && /*#__PURE__*/_jsx(\"div\", {\n          className: \"validation-array\",\n          children: /*#__PURE__*/_jsx(MessageValidation, {\n            error: formik.errors.ingredients\n          })\n        }), /*#__PURE__*/_jsx(\"hr\", {}), /*#__PURE__*/_jsx(\"div\", {\n          className: \"sty-dyna-title-1\",\n          children: /*#__PURE__*/_jsx(TagLang, {\n            group: \"input\",\n            tag: \"preparation\"\n          })\n        }), /*#__PURE__*/_jsx(FormikProvider, {\n          value: formik,\n          children: /*#__PURE__*/_jsx(FieldArray, {\n            name: \"directions\",\n            render: function render(arrayHelpers) {\n              return /*#__PURE__*/_jsx(SubDirectionCont, {\n                formik: formik,\n                arrayHelpers: arrayHelpers,\n                father: \"directions\",\n                statusLanguage: statusLanguage,\n                setStatusLanguage: setStatusLanguage,\n                flagEditRecipe: flagEditRecipe\n              });\n            }\n          })\n        }), /*#__PURE__*/_jsx(\"hr\", {}), showEquivalents && /*#__PURE__*/_jsxs(_Fragment, {\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"sty-dyna-title-1\",\n            children: /*#__PURE__*/_jsx(TagLang, {\n              group: \"input\",\n              tag: \"equivalent_recipes\"\n            })\n          }), /*#__PURE__*/_jsx(FormikProvider, {\n            value: formik,\n            children: /*#__PURE__*/_jsx(FieldArray, {\n              name: \"equivalents\",\n              render: function render(arrayHelpers) {\n                return /*#__PURE__*/_jsx(SubEquivalentCont, {\n                  formik: formik,\n                  arrayHelpers: arrayHelpers,\n                  father: \"equivalents\",\n                  flagEditRecipe: flagEditRecipe\n                });\n              }\n            })\n          })]\n        })]\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"col-12 text-center sty-magin-b-1\",\n        children: [flagEditRecipe && /*#__PURE__*/_jsxs(\"button\", {\n          className: \"sty-button-dash-1\",\n          type: \"submit\",\n          onClick: function onClick() {\n            return ClickSend();\n          },\n          children: [/*#__PURE__*/_jsx(\"div\", {\n            className: \"sty-icon\",\n            children: /*#__PURE__*/_jsx(\"img\", {\n              src: \"/static/img/favicons/app/save_w.svg\"\n            })\n          }), /*#__PURE__*/_jsx(\"div\", {\n            className: \"sty-tag\",\n            children: /*#__PURE__*/_jsx(TagLang, {\n              group: \"button\",\n              tag: \"save\"\n            })\n          })]\n        }), !flagEditRecipe && /*#__PURE__*/_jsx(\"button\", {\n          className: \"sty-button-dash-1\",\n          type: \"submit\",\n          onClick: function onClick() {\n            return RouteSave();\n          },\n          children: /*#__PURE__*/_jsx(\"div\", {\n            className: \"sty-tag\",\n            children: /*#__PURE__*/_jsx(TagLang, {\n              group: \"button\",\n              tag: \"back\"\n            })\n          })\n        })]\n      })]\n    })\n  });\n}\n\nfunction initialValues() {\n  return {\n    image_check: \"\",\n    name_es: \"\",\n    name_en: \"\",\n    portions: 1,\n    categories: [{}],\n    regions: [{}],\n    directions: [{\n      direction: \"\"\n    }],\n    isPublic: false\n  };\n}\n\nfunction validationSchema() {\n  return {\n    // image_check: Yup.string().required(\"required\"),\n    // name_es: Yup.string().required(\"required\"),\n    // name_en: Yup.string().required(\"required\"),\n    language: Yup.bool().when([\"name_es\", \"name_en\"], {\n      is: function is(name_es, name_en) {\n        return !name_es && !name_en;\n      },\n      then: Yup.bool().required(\"fields_language\"),\n      otherwise: Yup.bool()\n    }),\n    categories: Yup.array().of(Yup.object().shape({\n      category: Yup.string().required(\"required\")\n    })),\n    regions: Yup.array().of(Yup.object().shape({\n      region: Yup.string().required(\"required\")\n    })),\n    directions: Yup.array().of(Yup.object().shape({\n      // direction_es: Yup.string().required(\"required\"),\n      // direction_en: Yup.string().required(\"required\"),\n      directionsLanguage: Yup.bool().when([\"direction_es\", \"direction_en\"], {\n        is: function is(direction_es, direction_en) {\n          return !direction_es && !direction_en;\n        },\n        then: Yup.bool().required(\"fields_language\"),\n        otherwise: Yup.bool()\n      })\n    })),\n    ingredients: Yup.array().of(Yup.object().shape({\n      portion: Yup.string().required(\"required\"),\n      quantity: Yup.string().required(\"required\")\n    })).required(\"array_ingredients\")\n  };\n}","map":null,"metadata":{},"sourceType":"module"}